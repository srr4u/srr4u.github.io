<html>
<head>
  <title>Express</title>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script>
    function f() {

      const header = {
        headers: {
          'Access-Control-Allow-Origin': '*',
          'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8',
          'Authorization': 'KakaoAK a86e06b9136b3c446ec19654b7271fa0'
        }
      }

      const datas = {
        cid: 'TC0ONETIME',
        partner_order_id: 'partner_order_id',
        partner_user_id: 'partner_user_id',
        item_name: '초코파이',
        quantity: 1,
        total_amount: 2200,
        vat_amount: 200,
        tax_free_amount: 0,
        approval_url: 'https://developers.kakao.com/success',
        fail_url: 'https://developers.kakao.com/fail',
        cancel_url: 'https://developers.kakao.com/cancel',
      }
      $.ajax({
        crossDomain: true,
        url : 'https://kapi.kakao.com/v1/payment/ready',
        headers : { 'Authorization' : 'KakaoAK 00f64847ddfd2a1ab16a9ca51d59aba8', 'Access-Control-Allow-Origin': '*',},
        type: 'POST',
        data : datas,
        success : function(data){
          if(data.documents.length != 0 ){ // 값이 있으면
            console.log(data)
          }
        },
        error:function(request,status,error){
          alert("code:"+request.status+"\n"+"message:"+request.responseText+"\n"+"error:"+error);
        }
      }).done(function(data){console.log(data);});

      // axios
      //   .post("https://kapi.kakao.com/v1/payment/ready", data, header)
      //   .then(res => {
      //     console.log(res.data)
      //   })
      //   .catch((error) => {
      //     console.log(error)
      //   })
    }
  </script>
</head>
<body>
  <h1>Express</h1>
  <p>Welcome to Express</p>
  <button onclick="f()">asdf</button>
</body>
</html>
